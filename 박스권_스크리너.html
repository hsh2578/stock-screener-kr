<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë°•ìŠ¤ê¶Œ ìŠ¤í¬ë¦¬ë„ˆ - í€€íŠ¸ (45ê°œ ì¢…ëª©)</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Malgun Gothic', sans-serif;
            background: #0a0a0f;
            color: #e4e4e7;
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        header {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 20px;
            border: 1px solid #2a2a3e;
        }
        h1 {
            font-size: 1.8rem;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .badge {
            background: #3b82f6;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        .description { color: #a1a1aa; margin-bottom: 12px; }
        .stats { display: flex; gap: 20px; color: #71717a; font-size: 0.9rem; }
        .stats .count { color: #22c55e; font-weight: 600; }
        .card {
            background: #18181b;
            border-radius: 12px;
            border: 1px solid #27272a;
            overflow: auto;
        }
        table { width: 100%; border-collapse: collapse; min-width: 900px; }
        th {
            background: #1f1f23;
            padding: 12px 16px;
            text-align: left;
            font-weight: 600;
            color: #a1a1aa;
            font-size: 0.85rem;
            border-bottom: 1px solid #27272a;
            cursor: pointer;
            user-select: none;
            white-space: nowrap;
        }
        th:hover { background: #27272a; }
        th.sorted-asc::after { content: ' â–²'; }
        th.sorted-desc::after { content: ' â–¼'; }
        td {
            padding: 12px 16px;
            border-bottom: 1px solid #27272a;
            font-size: 0.9rem;
        }
        tr:hover { background: #1f1f23; }
        .text-right { text-align: right; }
        .text-center { text-align: center; }
        .ticker { color: #71717a; font-size: 0.8rem; }
        .name { font-weight: 500; }
        .positive { color: #22c55e; }
        .negative { color: #ef4444; }
        .neutral { color: #a1a1aa; }
        .touch-info { cursor: help; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>
                <span>ğŸ“¦</span>
                ë°•ìŠ¤ê¶Œ ìŠ¤í¬ë¦¬ë„ˆ
                <span class="badge">í€€íŠ¸</span>
            </h1>
            <p class="description">60ê±°ë˜ì¼ ATRê¸°ë°˜ íš¡ë³´ + ì§€ì§€/ì €í•­ í„°ì¹˜ í™•ì¸ + ì¶”ì„¸ í•„í„° + ê±°ë˜ëŸ‰ ê°ì†Œ (7ì¡°ê±´)</p>
            <div class="stats">
                <span>ë°ì´í„° ê¸°ì¤€: 2026ë…„ 1ì›” 20ì¼ 22:11</span>
                <span><span class="count">45</span>ê°œ ì¢…ëª© / 1,521ê°œ ì¤‘</span>
            </div>
        </header>

        <div class="card">
            <table id="stockTable">
                <thead>
                    <tr>
                        <th data-sort="name">ì¢…ëª©ëª…</th>
                        <th data-sort="price" class="text-right">í˜„ì¬ê°€</th>
                        <th data-sort="change_rate" class="text-right">ë“±ë½ë¥ </th>
                        <th data-sort="box_high" class="text-right">ë°•ìŠ¤ ìƒë‹¨</th>
                        <th data-sort="box_low" class="text-right">ë°•ìŠ¤ í•˜ë‹¨</th>
                        <th data-sort="range_percent" class="text-right sorted-asc">ë³€ë™í­</th>
                        <th data-sort="support_touches" class="text-center">ì§€ì§€/ì €í•­</th>
                        <th data-sort="atr_multiple" class="text-right">ATRë°°ìˆ˜</th>
                        <th data-sort="days" class="text-right">íš¡ë³´ê¸°ê°„</th>
                    </tr>
                </thead>
                <tbody id="tableBody"></tbody>
            </table>
        </div>
    </div>

    <script>
        // ë°ì´í„° ì§ì ‘ í¬í•¨
        const stockData = [
            {"ticker":"097955","name":"CJì œì¼ì œë‹¹ ìš°","price":139500,"change_rate":1.23,"box_high":140400,"box_low":136400,"range_percent":2.93,"atr_multiple":2.51,"support_touches":4,"resistance_touches":4,"days":60},
            {"ticker":"007310","name":"ì˜¤ëšœê¸°","price":388000,"change_rate":1.7,"box_high":391500,"box_low":374000,"range_percent":4.68,"atr_multiple":4.06,"support_touches":2,"resistance_touches":4,"days":60},
            {"ticker":"143160","name":"ì•„ì´ë””ìŠ¤","price":18070,"change_rate":1.35,"box_high":18190,"box_low":17360,"range_percent":4.78,"atr_multiple":2.23,"support_touches":5,"resistance_touches":3,"days":60},
            {"ticker":"004080","name":"ì‹ í¥","price":13560,"change_rate":-0.44,"box_high":14010,"box_low":13360,"range_percent":4.87,"atr_multiple":2.79,"support_touches":2,"resistance_touches":3,"days":60},
            {"ticker":"126560","name":"í˜„ëŒ€í“¨ì²˜ë„·","price":3180,"change_rate":-0.31,"box_high":3275,"box_low":3060,"range_percent":7.03,"atr_multiple":3.81,"support_touches":5,"resistance_touches":3,"days":60},
            {"ticker":"005990","name":"ë§¤ì¼í™€ë”©ìŠ¤","price":10690,"change_rate":0.09,"box_high":11270,"box_low":10530,"range_percent":7.03,"atr_multiple":3.83,"support_touches":2,"resistance_touches":3,"days":60},
            {"ticker":"003547","name":"ëŒ€ì‹ ì¦ê¶Œ2ìš°B","price":20600,"change_rate":1.23,"box_high":21050,"box_low":19660,"range_percent":7.07,"atr_multiple":4.34,"support_touches":4,"resistance_touches":5,"days":60},
            {"ticker":"213500","name":"í•œì†”ì œì§€","price":8050,"change_rate":0.5,"box_high":8520,"box_low":7900,"range_percent":7.85,"atr_multiple":5.53,"support_touches":2,"resistance_touches":6,"days":60},
            {"ticker":"000020","name":"ë™í™”ì•½í’ˆ","price":6010,"change_rate":1.01,"box_high":6430,"box_low":5940,"range_percent":8.25,"atr_multiple":4.25,"support_touches":3,"resistance_touches":4,"days":60},
            {"ticker":"002320","name":"í•œì§„","price":19700,"change_rate":0.0,"box_high":20950,"box_low":19320,"range_percent":8.44,"atr_multiple":4.28,"support_touches":4,"resistance_touches":4,"days":60},
            {"ticker":"063570","name":"NICEì¸í”„ë¼","price":4090,"change_rate":2.12,"box_high":4345,"box_low":4005,"range_percent":8.49,"atr_multiple":3.75,"support_touches":2,"resistance_touches":3,"days":60},
            {"ticker":"002840","name":"ë¯¸ì›ìƒì‚¬","price":146500,"change_rate":0.34,"box_high":156900,"box_low":143900,"range_percent":9.03,"atr_multiple":3.55,"support_touches":3,"resistance_touches":2,"days":60},
            {"ticker":"100700","name":"ì„¸ìš´ë©”ë””ì¹¼","price":2340,"change_rate":1.96,"box_high":2505,"box_low":2295,"range_percent":9.15,"atr_multiple":4.98,"support_touches":2,"resistance_touches":4,"days":60},
            {"ticker":"339770","name":"êµì´Œì—í”„ì•¤ë¹„","price":4240,"change_rate":1.07,"box_high":4520,"box_low":4140,"range_percent":9.18,"atr_multiple":3.63,"support_touches":2,"resistance_touches":3,"days":60},
            {"ticker":"003470","name":"ìœ ì•ˆíƒ€ì¦ê¶Œ","price":3935,"change_rate":1.16,"box_high":3970,"box_low":3635,"range_percent":9.22,"atr_multiple":3.4,"support_touches":6,"resistance_touches":2,"days":60},
            {"ticker":"002150","name":"ë„í™”ì—”ì§€ë‹ˆì–´ë§","price":6170,"change_rate":1.15,"box_high":6490,"box_low":5940,"range_percent":9.26,"atr_multiple":4.93,"support_touches":3,"resistance_touches":3,"days":60},
            {"ticker":"185750","name":"ì¢…ê·¼ë‹¹","price":85300,"change_rate":2.52,"box_high":88200,"box_low":80700,"range_percent":9.29,"atr_multiple":4.19,"support_touches":2,"resistance_touches":3,"days":60},
            {"ticker":"038390","name":"ë ˆë“œìº¡íˆ¬ì–´","price":11720,"change_rate":1.91,"box_high":12120,"box_low":11080,"range_percent":9.39,"atr_multiple":5.12,"support_touches":4,"resistance_touches":3,"days":60},
            {"ticker":"143240","name":"ì‚¬ëŒì¸","price":13020,"change_rate":0.93,"box_high":14010,"box_low":12760,"range_percent":9.8,"atr_multiple":3.51,"support_touches":2,"resistance_touches":2,"days":60},
            {"ticker":"003555","name":"LGìš°","price":71000,"change_rate":0.0,"box_high":71000,"box_low":64600,"range_percent":9.91,"atr_multiple":4.48,"support_touches":3,"resistance_touches":3,"days":60},
            {"ticker":"003460","name":"ìœ í™”ì¦ê¶Œ","price":2725,"change_rate":1.3,"box_high":2925,"box_low":2660,"range_percent":9.96,"atr_multiple":5.04,"support_touches":3,"resistance_touches":2,"days":60},
            {"ticker":"001045","name":"CJìš°","price":93000,"change_rate":0.87,"box_high":95500,"box_low":86800,"range_percent":10.02,"atr_multiple":3.03,"support_touches":4,"resistance_touches":2,"days":60},
            {"ticker":"344820","name":"KCCê¸€ë¼ìŠ¤","price":27050,"change_rate":1.31,"box_high":27650,"box_low":25100,"range_percent":10.16,"atr_multiple":5.78,"support_touches":4,"resistance_touches":2,"days":60},
            {"ticker":"005500","name":"ì‚¼ì§„ì œì•½","price":19430,"change_rate":1.99,"box_high":20950,"box_low":19000,"range_percent":10.26,"atr_multiple":4.58,"support_touches":2,"resistance_touches":2,"days":60},
            {"ticker":"057050","name":"í˜„ëŒ€í™ˆì‡¼í•‘","price":54400,"change_rate":3.42,"box_high":56700,"box_low":51400,"range_percent":10.31,"atr_multiple":4.35,"support_touches":2,"resistance_touches":4,"days":60},
            {"ticker":"039130","name":"í•˜ë‚˜íˆ¬ì–´","price":45450,"change_rate":0.33,"box_high":49550,"box_low":44900,"range_percent":10.36,"atr_multiple":4.86,"support_touches":2,"resistance_touches":4,"days":60},
            {"ticker":"001750","name":"í•œì–‘ì¦ê¶Œ","price":18770,"change_rate":1.02,"box_high":20050,"box_low":18140,"range_percent":10.53,"atr_multiple":4.1,"support_touches":3,"resistance_touches":3,"days":60},
            {"ticker":"226320","name":"ì‡ì¸ í•œë¶ˆ","price":11140,"change_rate":0.27,"box_high":12220,"box_low":11040,"range_percent":10.69,"atr_multiple":3.82,"support_touches":3,"resistance_touches":3,"days":60},
            {"ticker":"095660","name":"ë„¤ì˜¤ìœ„ì¦ˆ","price":25750,"change_rate":1.38,"box_high":26650,"box_low":24050,"range_percent":10.81,"atr_multiple":3.21,"support_touches":3,"resistance_touches":4,"days":60},
            {"ticker":"078070","name":"ìœ ë¹„ì¿¼ìŠ¤í™€ë”©ìŠ¤","price":10400,"change_rate":-0.29,"box_high":11090,"box_low":10000,"range_percent":10.9,"atr_multiple":3.57,"support_touches":2,"resistance_touches":3,"days":60},
            {"ticker":"002620","name":"ì œì¼íŒŒë§ˆí™€ë”©ìŠ¤","price":8000,"change_rate":1.65,"box_high":8430,"box_low":7530,"range_percent":11.95,"atr_multiple":4.3,"support_touches":2,"resistance_touches":3,"days":60},
            {"ticker":"003000","name":"ë¶€ê´‘ì•½í’ˆ","price":3895,"change_rate":2.23,"box_high":4015,"box_low":3585,"range_percent":11.99,"atr_multiple":3.45,"support_touches":3,"resistance_touches":3,"days":60},
            {"ticker":"131030","name":"ì˜µíˆ¬ìŠ¤ì œì•½","price":7400,"change_rate":1.65,"box_high":7400,"box_low":6600,"range_percent":12.12,"atr_multiple":3.69,"support_touches":4,"resistance_touches":2,"days":60},
            {"ticker":"011760","name":"í˜„ëŒ€ì½”í¼ë ˆì´ì…˜","price":22150,"change_rate":3.02,"box_high":22900,"box_low":20350,"range_percent":12.53,"atr_multiple":4.6,"support_touches":4,"resistance_touches":4,"days":60},
            {"ticker":"251970","name":"íŒí…ì½”ë¦¬ì•„","price":54200,"change_rate":1.31,"box_high":56500,"box_low":50100,"range_percent":12.77,"atr_multiple":2.97,"support_touches":3,"resistance_touches":2,"days":60},
            {"ticker":"192400","name":"ì¿ ì¿ í™€ë”©ìŠ¤","price":27200,"change_rate":-0.55,"box_high":30900,"box_low":27100,"range_percent":14.02,"atr_multiple":4.0,"support_touches":2,"resistance_touches":2,"days":60},
            {"ticker":"004690","name":"ì‚¼ì²œë¦¬","price":126400,"change_rate":2.76,"box_high":137000,"box_low":119200,"range_percent":14.93,"atr_multiple":5.19,"support_touches":3,"resistance_touches":2,"days":60},
            {"ticker":"340570","name":"í‹°ì•¤ì—˜","price":44500,"change_rate":2.18,"box_high":50200,"box_low":43550,"range_percent":15.27,"atr_multiple":4.69,"support_touches":2,"resistance_touches":2,"days":60},
            {"ticker":"005880","name":"ëŒ€í•œí•´ìš´","price":1920,"change_rate":6.25,"box_high":1953,"box_low":1690,"range_percent":15.56,"atr_multiple":4.7,"support_touches":2,"resistance_touches":2,"days":60},
            {"ticker":"234340","name":"í—¥í† íŒŒì´ë‚¸ì…œ","price":15080,"change_rate":0.27,"box_high":17160,"box_low":14760,"range_percent":16.26,"atr_multiple":3.33,"support_touches":2,"resistance_touches":2,"days":60},
            {"ticker":"004490","name":"ì„¸ë°©ì „ì§€","price":63300,"change_rate":0.64,"box_high":67900,"box_low":58100,"range_percent":16.87,"atr_multiple":5.75,"support_touches":2,"resistance_touches":2,"days":60},
            {"ticker":"023590","name":"ë‹¤ìš°ê¸°ìˆ ","price":40500,"change_rate":3.98,"box_high":41300,"box_low":34950,"range_percent":18.17,"atr_multiple":4.25,"support_touches":2,"resistance_touches":3,"days":60},
            {"ticker":"151860","name":"KGì—ì½”ì†”ë£¨ì…˜","price":5470,"change_rate":2.05,"box_high":6170,"box_low":5220,"range_percent":18.2,"atr_multiple":5.07,"support_touches":2,"resistance_touches":2,"days":60},
            {"ticker":"001450","name":"í˜„ëŒ€í•´ìƒ","price":27750,"change_rate":3.54,"box_high":31450,"box_low":26450,"range_percent":18.9,"atr_multiple":5.63,"support_touches":2,"resistance_touches":3,"days":60},
            {"ticker":"104830","name":"ì›ìµë¨¸íŠ¸ë¦¬ì–¼ì¦ˆ","price":33350,"change_rate":2.46,"box_high":35300,"box_low":29500,"range_percent":19.66,"atr_multiple":4.23,"support_touches":3,"resistance_touches":2,"days":60}
        ];

        const formatNumber = (n) => n.toLocaleString('ko-KR');
        const formatPercent = (n) => (n >= 0 ? '+' : '') + n.toFixed(2) + '%';
        const getColor = (n) => n > 0 ? 'positive' : n < 0 ? 'negative' : 'neutral';

        let currentSort = { field: 'range_percent', asc: true };
        let data = [...stockData];

        function renderTable() {
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = data.map(s => `
                <tr>
                    <td><div class="name">${s.name}</div><div class="ticker">${s.ticker}</div></td>
                    <td class="text-right">${formatNumber(s.price)}ì›</td>
                    <td class="text-right ${getColor(s.change_rate)}">${formatPercent(s.change_rate)}</td>
                    <td class="text-right">${formatNumber(s.box_high)}ì›</td>
                    <td class="text-right">${formatNumber(s.box_low)}ì›</td>
                    <td class="text-right">${formatPercent(s.range_percent)}</td>
                    <td class="text-center touch-info" title="ì§€ì§€ì„  ${s.support_touches}íšŒ / ì €í•­ì„  ${s.resistance_touches}íšŒ">${s.support_touches}/${s.resistance_touches}</td>
                    <td class="text-right">${s.atr_multiple.toFixed(1)}x</td>
                    <td class="text-right">${s.days}ì¼</td>
                </tr>
            `).join('');
        }

        function sortData(field) {
            document.querySelectorAll('th').forEach(th => th.classList.remove('sorted-asc', 'sorted-desc'));

            if (currentSort.field === field) {
                currentSort.asc = !currentSort.asc;
            } else {
                currentSort.field = field;
                currentSort.asc = true;
            }

            const th = document.querySelector(`th[data-sort="${field}"]`);
            th.classList.add(currentSort.asc ? 'sorted-asc' : 'sorted-desc');

            data.sort((a, b) => {
                let va = a[field], vb = b[field];
                if (typeof va === 'string') return currentSort.asc ? va.localeCompare(vb) : vb.localeCompare(va);
                return currentSort.asc ? va - vb : vb - va;
            });
            renderTable();
        }

        document.querySelectorAll('th[data-sort]').forEach(th => {
            th.addEventListener('click', () => sortData(th.dataset.sort));
        });

        renderTable();
    </script>
</body>
</html>
